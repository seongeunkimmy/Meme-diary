{"ast":null,"code":"export const FETCH_DIARY_PENDING = 'FETCH_DIARY_PENDING';\nexport const FETCH_DIARY_SUCCESS = 'FETCH_DIARY_SUCCESS';\nexport const FETCH_DIARY_ERROR = 'FETCH_DIARY_ERROR';\nexport const fetchDiaryPending = () => {\n  return {\n    type: FETCH_DIARY_PENDING\n  };\n};\nexport const fetchDiarySuccess = data => {\n  return {\n    type: FETCH_DIARY_SUCCESS,\n    payload: {\n      data\n    }\n  };\n};\nexport const fetchDiaryError = error => {\n  return {\n    type: FETCH_DIARY_ERROR,\n    payload: {\n      error\n    }\n  };\n};\nexport function fetchDiaries() {\n  return dispatch => {\n    dispatch(fetchDiaryPending());\n    return fetch('http://localhost:5000/api/diary').then(handleErrors).then(res => res.json()).then(res => {\n      dispatch(fetchDiarySuccess(res.diaries));\n      return res.diaries;\n    }).catch(error => {\n      dispatch(fetchDiaryError(error));\n    });\n  };\n}\n\nfunction handleErrors(response) {\n  if (!response.ok) {\n    throw Error(response.statusText);\n  }\n\n  return response;\n}","map":{"version":3,"sources":["/Users/seong-eunkim/Desktop/Meme-diary/client/src/actions/fetchDiary.js"],"names":["FETCH_DIARY_PENDING","FETCH_DIARY_SUCCESS","FETCH_DIARY_ERROR","fetchDiaryPending","type","fetchDiarySuccess","data","payload","fetchDiaryError","error","fetchDiaries","dispatch","fetch","then","handleErrors","res","json","diaries","catch","response","ok","Error","statusText"],"mappings":"AAEA,OAAO,MAAMA,mBAAmB,GAAG,qBAA5B;AACP,OAAO,MAAMC,mBAAmB,GAAG,qBAA5B;AACP,OAAO,MAAMC,iBAAiB,GAAG,mBAA1B;AAEP,OAAO,MAAMC,iBAAiB,GAAG,MAAM;AACnC,SAAO;AACHC,IAAAA,IAAI,EAAEJ;AADH,GAAP;AAGH,CAJM;AAMN,OAAO,MAAMK,iBAAiB,GAAIC,IAAD,IAAU;AACxC,SAAO;AACHF,IAAAA,IAAI,EAAEH,mBADH;AAEHM,IAAAA,OAAO,EAAE;AAACD,MAAAA;AAAD;AAFN,GAAP;AAIH,CALO;AAOR,OAAO,MAAME,eAAe,GAAIC,KAAD,IAAW;AACtC,SAAO;AACHL,IAAAA,IAAI,EAAEF,iBADH;AAEHK,IAAAA,OAAO,EAAE;AAACE,MAAAA;AAAD;AAFN,GAAP;AAIH,CALM;AAWP,OAAO,SAASC,YAAT,GAAwB;AAC3B,SAAOC,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAACR,iBAAiB,EAAlB,CAAR;AACA,WAAOS,KAAK,CAAC,iCAAD,CAAL,CACNC,IADM,CACDC,YADC,EAEND,IAFM,CAEDE,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAFN,EAGNH,IAHM,CAGDE,GAAG,IAAI;AACTJ,MAAAA,QAAQ,CAACN,iBAAiB,CAACU,GAAG,CAACE,OAAL,CAAlB,CAAR;AACA,aAAOF,GAAG,CAACE,OAAX;AACH,KANM,EAONC,KAPM,CAOAT,KAAK,IAAI;AACZE,MAAAA,QAAQ,CAACH,eAAe,CAACC,KAAD,CAAhB,CAAR;AACH,KATM,CAAP;AAUH,GAZD;AAaH;;AAED,SAASK,YAAT,CAAsBK,QAAtB,EAAgC;AAC5B,MAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AAChB,UAAMC,KAAK,CAACF,QAAQ,CAACG,UAAV,CAAX;AACD;;AACD,SAAOH,QAAP;AACD","sourcesContent":["\n\nexport const FETCH_DIARY_PENDING = 'FETCH_DIARY_PENDING';\nexport const FETCH_DIARY_SUCCESS = 'FETCH_DIARY_SUCCESS';\nexport const FETCH_DIARY_ERROR = 'FETCH_DIARY_ERROR';\n\nexport const fetchDiaryPending = () => {\n    return {\n        type: FETCH_DIARY_PENDING\n    }\n}\n\n export const fetchDiarySuccess = (data) => {\n    return {\n        type: FETCH_DIARY_SUCCESS,\n        payload: {data}\n    }\n}\n\nexport const fetchDiaryError = (error) => {\n    return {\n        type: FETCH_DIARY_ERROR,\n        payload: {error}\n    }\n}\n \n\n\n\n\nexport function fetchDiaries() {\n    return dispatch => {\n        dispatch(fetchDiaryPending());\n        return fetch('http://localhost:5000/api/diary')\n        .then(handleErrors)\n        .then(res => res.json())\n        .then(res => {\n            dispatch(fetchDiarySuccess(res.diaries));\n            return res.diaries;\n        })\n        .catch(error => {\n            dispatch(fetchDiaryError(error));\n        })\n    }\n}\n\nfunction handleErrors(response) {\n    if (!response.ok) {\n      throw Error(response.statusText);\n    }\n    return response;\n  }\n\n"]},"metadata":{},"sourceType":"module"}