{"ast":null,"code":"import { fetchDiaryPending, fetchDiarySuccess, fetchDiaryError } from './diaryAction';\n\nfunction fetchDiaries() {\n  return dispatch => {\n    dispatch(fetchDiaryPending());\n    return fetch('/api/diary').then(handleErrors).then(res => res.json()).then(res => {\n      dispatch(fetchDiarySuccess(res.diaries));\n      return res.diaries;\n    }).catch(error => {\n      dispatch(fetchDiaryError(error));\n    });\n  };\n}\n\nfunction handleErrors(response) {\n  if (!response.ok) {\n    throw Error(response.statusText);\n  }\n\n  return response;\n}\n\nexport default fetchDiaries;","map":{"version":3,"sources":["/Users/seong-eunkim/Desktop/Meme-diary/client/src/actions/fetchDiary.js"],"names":["fetchDiaryPending","fetchDiarySuccess","fetchDiaryError","fetchDiaries","dispatch","fetch","then","handleErrors","res","json","diaries","catch","error","response","ok","Error","statusText"],"mappings":"AAAA,SAASA,iBAAT,EAA4BC,iBAA5B,EAA+CC,eAA/C,QAAsE,eAAtE;;AAEA,SAASC,YAAT,GAAwB;AACpB,SAAOC,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAACJ,iBAAiB,EAAlB,CAAR;AACA,WAAOK,KAAK,CAAC,YAAD,CAAL,CACNC,IADM,CACDC,YADC,EAEND,IAFM,CAEDE,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAFN,EAGNH,IAHM,CAGDE,GAAG,IAAI;AACTJ,MAAAA,QAAQ,CAACH,iBAAiB,CAACO,GAAG,CAACE,OAAL,CAAlB,CAAR;AACA,aAAOF,GAAG,CAACE,OAAX;AACH,KANM,EAONC,KAPM,CAOAC,KAAK,IAAI;AACZR,MAAAA,QAAQ,CAACF,eAAe,CAACU,KAAD,CAAhB,CAAR;AACH,KATM,CAAP;AAUH,GAZD;AAaH;;AAED,SAASL,YAAT,CAAsBM,QAAtB,EAAgC;AAC5B,MAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AAChB,UAAMC,KAAK,CAACF,QAAQ,CAACG,UAAV,CAAX;AACD;;AACD,SAAOH,QAAP;AACD;;AAED,eAAeV,YAAf","sourcesContent":["import { fetchDiaryPending, fetchDiarySuccess, fetchDiaryError } from './diaryAction';\n\nfunction fetchDiaries() {\n    return dispatch => {\n        dispatch(fetchDiaryPending());\n        return fetch('/api/diary')\n        .then(handleErrors)\n        .then(res => res.json())\n        .then(res => {\n            dispatch(fetchDiarySuccess(res.diaries));\n            return res.diaries;\n        })\n        .catch(error => {\n            dispatch(fetchDiaryError(error));\n        })\n    }\n}\n\nfunction handleErrors(response) {\n    if (!response.ok) {\n      throw Error(response.statusText);\n    }\n    return response;\n  }\n\n  export default fetchDiaries;"]},"metadata":{},"sourceType":"module"}