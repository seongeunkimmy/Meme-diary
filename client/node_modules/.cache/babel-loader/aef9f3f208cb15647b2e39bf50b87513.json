{"ast":null,"code":"import _slicedToArray from\"/Users/seong-eunkim/Desktop/Meme-diary/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{connect}from'react-redux';import{useDispatch}from'react-redux';import{Link}from'react-router-dom';import{register}from'../../actions/authAction';import{clearErrors}from'../../actions/errorAction';import'./Register.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(_ref){var error=_ref.error,clearErrors=_ref.clearErrors,isAuthenticated=_ref.isAuthenticated;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),firstName=_useState2[0],setFirstName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),lastName=_useState4[0],setLastName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),msg=_useState10[0],setMsg=_useState10[1];var dispatch=useDispatch();var onSubmit=function onSubmit(e){e.preventDefault();var newUser={firstName:firstName,lastName:lastName,email:email,password:password};console.log(newUser);dispatch(register(newUser));// history.push('/')\nsetFirstName('');setLastName('');setEmail('');setPassword('');setMsg(null);e.target.reset();};useEffect(function(){// Check for register error\nif(error.id==='REGISTER_FAIL'){setMsg(error.msg.msg);}else{setMsg(null);}if(isAuthenticated){clearErrors();}},[error,clearErrors,isAuthenticated]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"register-container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"register-form\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"regi-title\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Register\"})}),msg?/*#__PURE__*/_jsx(\"div\",{className:\"alert\",children:msg}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"regi-form\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"regi-item\",placeholder:\"First Name\",value:firstName,onChange:function onChange(event){return setFirstName(event.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"regi-item\",placeholder:\"Last Name\",value:lastName,onChange:function onChange(event){return setLastName(event.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"regi-item\",type:\"email\",placeholder:\"Your E-mail\",value:email,onChange:function onChange(event){return setEmail(event.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"regi-item\",type:\"password\",placeholder:\"Password\",value:password,onChange:function onChange(event){return setPassword(event.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"regi-btn\",type:\"submit\",children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"log-in\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Already registered?\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Log-in\"})})]})]})]})})});}var mapStateToProps=function mapStateToProps(state){return{isAuthenticated:state.auth.isAuthenticated,error:state.error};};export default connect(mapStateToProps,{register:register,clearErrors:clearErrors})(Register);","map":{"version":3,"sources":["/Users/seong-eunkim/Desktop/Meme-diary/client/src/pages/auth/Register.js"],"names":["React","useState","useEffect","connect","useDispatch","Link","register","clearErrors","Register","error","isAuthenticated","firstName","setFirstName","lastName","setLastName","email","setEmail","password","setPassword","msg","setMsg","dispatch","onSubmit","e","preventDefault","newUser","console","log","target","reset","id","event","value","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux'\nimport { useDispatch } from 'react-redux'\nimport { Link } from 'react-router-dom';\nimport { register } from '../../actions/authAction'\nimport { clearErrors } from '../../actions/errorAction';\nimport './Register.css';\n\nfunction Register({error, clearErrors, isAuthenticated}) {\n \n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [msg, setMsg] = useState(null);\n\n\n  const dispatch = useDispatch();\n\n\n\n  const onSubmit = e => {\n    e.preventDefault();\n   \n      const newUser = {\n        firstName, \n        lastName, \n        email,\n        password\n      }\n  \n      console.log(newUser);\n      dispatch(register(newUser));\n   \n      // history.push('/')\n    \n  \n        setFirstName('')\n        setLastName('')\n        setEmail('')\n        setPassword('')\n        setMsg(null)\n    \n        e.target.reset();\n      \n    };\n\n    useEffect(() => {\n      // Check for register error\n      if (error.id === 'REGISTER_FAIL') {\n        setMsg(error.msg.msg);\n      } else {\n        setMsg(null);\n      } \n    \n      if(isAuthenticated) {\n        clearErrors();\n      }\n\n    }, [error, clearErrors, isAuthenticated])\n\n  \n  \n    return (\n        <div>\n           <div className=\"register-container\">\n           <form className=\"register-form\" onSubmit={onSubmit}>\n           <div className=\"regi-title\">\n           <h1>Register</h1>\n           </div>\n           {msg ? <div className=\"alert\">{msg}</div> : null}\n           <div className=\"regi-form\"> \n                 <input\n                 className=\"regi-item\"\n                 placeholder=\"First Name\"\n                 value={firstName}\n                 onChange={event => setFirstName(event.target.value)}\n                 />\n                 <input\n                 className=\"regi-item\"\n                 placeholder=\"Last Name\"\n                 value={lastName}\n                 onChange={event => setLastName(event.target.value)}\n                 />\n                 <input\n                 className=\"regi-item\"\n                 type=\"email\"\n                 placeholder=\"Your E-mail\"\n                 value={email}\n                 onChange={event => setEmail(event.target.value)}\n                 />\n                <input\n                 className=\"regi-item\"\n                 type=\"password\"\n                 placeholder=\"Password\"\n                 value={password}\n                 onChange={event => setPassword(event.target.value)}\n                />\n                 <button className=\"regi-btn\" type=\"submit\" >Sign Up</button>\n                 <div className=\"log-in\">\n                 <span>Already registered?</span>\n                 <Link to=\"/\">\n                 <button>Log-in</button>\n                 </Link>\n                 \n                </div>\n                 </div>\n            </form>\n           </div>\n     \n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  error: state.error\n\n})\n\nexport default connect(mapStateToProps, {register, clearErrors})(Register);\n"]},"metadata":{},"sourceType":"module"}