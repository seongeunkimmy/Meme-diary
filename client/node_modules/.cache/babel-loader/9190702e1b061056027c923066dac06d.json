{"ast":null,"code":"import React,{useEffect}from'react';import moment from'moment';import HeartRating from\"./HeartRating.js\";import Navbar from\"../components/Navbar\";import'./Diaries.css';import{connect}from'react-redux';import{getDiary,deleteDiary}from'../actions/diariesAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Diaries(_ref){var diaries=_ref.diaries,getDiary=_ref.getDiary,deleteDiary=_ref.deleteDiary,auth=_ref.auth;// useEffect(() => {\n//     store.dispatch(loadUser());\n//   },[loadUser])\nuseEffect(function(){var user=auth.user._id;if(user){return getDiary(user);}},[getDiary,auth.user._id]);var handleDelete=function handleDelete(id){deleteDiary(id);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"diary-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"diary-title\",children:\"forMe.\"}),/*#__PURE__*/_jsx(\"div\",{children:diaries&&diaries.length?diaries.map(function(_ref2){var _id=_ref2._id,title=_ref2.title,content=_ref2.content,date=_ref2.date,selectedHeart=_ref2.selectedHeart,bodyChecked=_ref2.bodyChecked;return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"diary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"diary-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"diary-grid\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:title})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid-flex\",children:/*#__PURE__*/_jsx(HeartRating,{totalHearts:5,selectedHeart:selectedHeart})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"diary-grid\",children:[/*#__PURE__*/_jsx(\"div\",{children:date?moment(date).format('l'):null}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid-flex\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Treat your body well?\"}),/*#__PURE__*/_jsx(\"p\",{children:bodyChecked})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"diary-item\",children:/*#__PURE__*/_jsx(\"p\",{children:content})}),/*#__PURE__*/_jsx(\"div\",{className:\"diary-item\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDelete(_id);},className:\"sm-btn\",children:\"Delete\"})})]})},_id);}):null})]})]});}var mapStateToProps=function mapStateToProps(state){return{//    diary: state.diary,\ndiaries:state.diaries.diaries,auth:state.auth};};export default connect(mapStateToProps,{getDiary:getDiary,deleteDiary:deleteDiary})(Diaries);","map":{"version":3,"sources":["/Users/seong-eunkim/Desktop/Meme-diary/client/src/pages/Diaries.js"],"names":["React","useEffect","moment","HeartRating","Navbar","connect","getDiary","deleteDiary","Diaries","diaries","auth","user","_id","handleDelete","id","length","map","title","content","date","selectedHeart","bodyChecked","format","mapStateToProps","state"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,kBAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAO,eAAP,CAEA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,QAAT,CAAmBC,WAAnB,KAAsC,0BAAtC,C,wFAIA,QAASC,CAAAA,OAAT,MAAyD,IAAvCC,CAAAA,OAAuC,MAAvCA,OAAuC,CAA9BH,QAA8B,MAA9BA,QAA8B,CAApBC,WAAoB,MAApBA,WAAoB,CAAPG,IAAO,MAAPA,IAAO,CAErD;AACA;AACA;AAIDT,SAAS,CAAC,UAAM,CACf,GAAMU,CAAAA,IAAI,CAAGD,IAAI,CAACC,IAAL,CAAUC,GAAvB,CACE,GAAGD,IAAH,CAAS,CACP,MAAOL,CAAAA,QAAQ,CAACK,IAAD,CAAf,CACD,CAGH,CAPQ,CAON,CAACL,QAAD,CAAWI,IAAI,CAACC,IAAL,CAAUC,GAArB,CAPM,CAAT,CAUA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,EAAD,CAAQ,CACzBP,WAAW,CAACO,EAAD,CAAX,CACF,CAFF,CAMC,mBACI,oCACA,KAAC,MAAD,IADA,cAEA,aAAK,SAAS,CAAC,iBAAf,wBACF,WAAI,SAAS,CAAC,aAAd,oBADE,cAEF,qBACML,OAAO,EAAIA,OAAO,CAACM,MAAnB,CAA4BN,OAAO,CAACO,GAAR,CAAY,mBAAEJ,CAAAA,GAAF,OAAEA,GAAF,CAAOK,KAAP,OAAOA,KAAP,CAAcC,OAAd,OAAcA,OAAd,CAAuBC,IAAvB,OAAuBA,IAAvB,CAA6BC,aAA7B,OAA6BA,aAA7B,CAA4CC,WAA5C,OAA4CA,WAA5C,oBACxC,iCACA,aAAK,SAAS,CAAC,OAAf,wBAEJ,aAAK,SAAS,CAAC,YAAf,wBACA,aAAK,SAAS,CAAC,YAAf,wBACA,kCACA,oBAAKJ,KAAL,EADA,EADA,cAIA,YAAK,SAAS,CAAC,WAAf,uBAEA,KAAC,WAAD,EACC,WAAW,CAAE,CADd,CAEC,aAAa,CAAEG,aAFhB,EAFA,EAJA,GADA,cAeA,aAAK,SAAS,CAAC,YAAf,wBACA,qBACCD,IAAI,CAAGjB,MAAM,CAACiB,IAAD,CAAN,CAAaG,MAAb,CAAoB,GAApB,CAAH,CAA8B,IADnC,EADA,cAIA,aAAK,SAAS,CAAC,WAAf,wBACC,6CADD,cAEC,mBAAID,WAAJ,EAFD,GAJA,GAfA,GAFI,cA4BH,YAAK,SAAS,CAAC,YAAf,uBACA,mBAAIH,OAAJ,EADA,EA5BG,cA+BH,YAAK,SAAS,CAAC,YAAf,uBACA,eAAQ,OAAO,CAAE,yBAAML,CAAAA,YAAY,CAACD,GAAD,CAAlB,EAAjB,CAA0C,SAAS,CAAC,QAApD,oBADA,EA/BG,GADA,EAASA,GAAT,CADwC,EAAZ,CAA5B,CA0CG,IA3CT,EAFE,GAFA,GADJ,CAuDO,CAMR,GAAMW,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,QAAK,CACjC;AACGf,OAAO,CAAEe,KAAK,CAACf,OAAN,CAAcA,OAFO,CAG9BC,IAAI,CAAEc,KAAK,CAACd,IAHkB,CAAL,EAA7B,CASH,cAAeL,CAAAA,OAAO,CAACkB,eAAD,CAAkB,CAAEjB,QAAQ,CAARA,QAAF,CAAYC,WAAW,CAAXA,WAAZ,CAAlB,CAAP,CAAoDC,OAApD,CAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport moment from 'moment';\nimport HeartRating from \"./HeartRating.js\"\nimport Navbar from \"../components/Navbar\"\nimport './Diaries.css'\n\nimport { connect } from 'react-redux';\nimport { getDiary, deleteDiary } from '../actions/diariesAction'\n\n\n\nfunction Diaries({diaries, getDiary, deleteDiary, auth}) {\n  \n    // useEffect(() => {\n    //     store.dispatch(loadUser());\n    //   },[loadUser])\n\n  \n      \n   useEffect(() => {\n    const user = auth.user._id;\n      if(user) {\n        return getDiary(user);\n      }\n        \n    \n   }, [getDiary, auth.user._id])\n    \n\n   const handleDelete = (id) => {\n       deleteDiary(id);\n    }\n\n   \n\n    return (\n        <div>\n        <Navbar />\n        <div className=\"diary-container\">\n      <h1 className=\"diary-title\">forMe.</h1>\n      <div>\n          { diaries && diaries.length ? diaries.map(({_id, title, content, date, selectedHeart, bodyChecked}) => (\n            <li key={_id}>\n            <div className=\"diary\">\n           \n        <div className=\"diary-item\">\n        <div className=\"diary-grid\">\n        <div>\n        <h2>{title}</h2>\n        </div>\n        <div className=\"grid-flex\">\n       \n        <HeartRating \n         totalHearts={5} \n         selectedHeart={selectedHeart}\n         />\n      \n         </div>\n        </div>\n        \n        <div className=\"diary-grid\">\n        <div>\n        {date ? moment(date).format('l') : null}\n        </div>\n        <div className=\"grid-flex\">\n         <h4>Treat your body well?</h4>\n         <p>{bodyChecked}</p>\n         </div>\n        </div>\n        </div>\n        \n         <div className=\"diary-item\">\n         <p>{content}</p>\n         </div>\n         <div className=\"diary-item\">\n         <button onClick={() => handleDelete(_id)} className=\"sm-btn\" >\n         Delete\n        </button>\n      \n         </div>\n        \n        </div>\n        </li>\n          )) : null } \n                 \n</div>        \n</div>  \n       </div>\n  \n       )\n          }\n        \n\n\n\n\n   const mapStateToProps = state => ({\n    //    diary: state.diary,\n       diaries: state.diaries.diaries,\n       auth: state.auth\n     \n   })\n\n\n\nexport default connect(mapStateToProps, { getDiary, deleteDiary })(Diaries);\n\n\n"]},"metadata":{},"sourceType":"module"}