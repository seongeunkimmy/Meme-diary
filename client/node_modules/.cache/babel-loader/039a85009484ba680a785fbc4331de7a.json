{"ast":null,"code":"import _slicedToArray from\"/Users/seong-eunkim/Desktop/Meme-diary/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{connect}from'react-redux';import{useDispatch}from'react-redux';import{useHistory}from'react-router-dom';import{login}from'../../actions/authAction';import{clearErrors}from'../../actions/errorAction';import'./Login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(_ref){var error=_ref.error,isAuthenticated=_ref.isAuthenticated,clearErrors=_ref.clearErrors;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),msg=_useState6[0],setMsg=_useState6[1];var dispatch=useDispatch();var history=useHistory();var handleSubmit=function handleSubmit(e){e.preventDefault();var user={email:email,password:password};dispatch(login(user));setEmail('');setPassword('');};useEffect(function(){if(error.id==='LOGIN_FAIL'){setMsg(error.msg.msg);}else{setMsg(null);}if(isAuthenticated){history.push('/home');clearErrors();}},[error,isAuthenticated,clearErrors,history]);return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"part\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"forMe.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"part login\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"sign-in-form\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Log-in\"})}),msg?/*#__PURE__*/_jsx(\"div\",{className:\"alert-login\",children:msg}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"login-form\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"login-item\",type:\"email\",placeholder:\"Your E-mail\",value:email,onChange:function onChange(event){return setEmail(event.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"login-item\",type:\"password\",placeholder:\"Password\",value:password,onChange:function onChange(event){return setPassword(event.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"login-item\",type:\"submit\",children:\"Log In\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Don't have an account?\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Sign Up!\"})})]})]})]})})]});}var mapStateToProps=function mapStateToProps(state){return{isAuthenticated:state.auth.isAuthenticated,error:state.error};};export default connect(mapStateToProps,{login:login,clearErrors:clearErrors})(Login);","map":{"version":3,"sources":["/Users/seong-eunkim/Desktop/Meme-diary/client/src/pages/auth/Login.js"],"names":["React","useState","useEffect","Link","connect","useDispatch","useHistory","login","clearErrors","Login","error","isAuthenticated","email","setEmail","password","setPassword","msg","setMsg","dispatch","history","handleSubmit","e","preventDefault","user","id","push","event","target","value","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { login } from '../../actions/authAction';\nimport { clearErrors } from '../../actions/errorAction';\n\nimport './Login.css';\n\nfunction Login({ error, isAuthenticated, clearErrors}) {\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [msg, setMsg] = useState(null);\n\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n    \n   const handleSubmit = e => {\n    e.preventDefault();\n       \n    const user = {email, password};\n\n    dispatch(login(user));\n     \n        setEmail('')\n        setPassword('')\n        \n\n    }\n\n    useEffect(() => {\n        if(error.id === 'LOGIN_FAIL') {\n            setMsg(error.msg.msg)\n        } else {\n            setMsg(null)\n        }\n\n        if(isAuthenticated) {\n            history.push('/home')\n            clearErrors();\n        }\n    }, [error, isAuthenticated, clearErrors, history])\n\n  \n\n    return (\n        \n            <div className=\"login-container\">\n            <div className=\"part\">\n             <h1 className=\"title\">forMe.</h1> \n            </div>\n            \n           <div className=\"part login\">\n         \n             <form onSubmit={handleSubmit} className=\"sign-in-form\">\n                 <div>\n                 <h1>Log-in</h1>\n                 </div>\n                 {msg ? <div className=\"alert-login\">{msg}</div> : null}\n                 <div className=\"login-form\"> \n                 <input\n                 className=\"login-item\"\n                 type=\"email\"\n                 placeholder=\"Your E-mail\"\n                 value={email}\n                 onChange={event => setEmail(event.target.value)}\n                 />\n                <input\n                 className=\"login-item\"\n                 type=\"password\"\n                 placeholder=\"Password\"\n                 value={password}\n                 onChange={event => setPassword(event.target.value)}\n                />\n                 <button  className=\"login-item\" type=\"submit\">Log In</button>\n                 <div className=\"sign-up\">\n                 <span>Don't have an account?</span>\n                 <Link to=\"/register\">\n                 <button>Sign Up!</button>\n                 </Link>\n              \n                </div>\n                 \n                 </div>\n                 \n          \n          </form>\n                 \n           \n           </div>\n           </div>\n      \n    )\n}\n\nconst mapStateToProps = state => ({\n    isAuthenticated: state.auth.isAuthenticated,\n    error: state.error\n  \n  })\n  \n  export default connect(mapStateToProps, { login, clearErrors })(Login);"]},"metadata":{},"sourceType":"module"}